<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PM Clinic 22 - Komatsu</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0;font-family:Arial,sans-serif}
    body{background:#f5f5f5;color:#333;line-height:1.6}
    .container{max-width:1200px;margin:0 auto;padding:20px}
    header{text-align:center;margin-bottom:20px;padding-bottom:10px;border-bottom:2px solid #0033A0}
    .logo h1{color:#0033A0;font-size:28px;margin-bottom:5px}
    .logo p{color:#666;font-size:14px}
    .form-container{background:#fff;border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,.1);padding:20px}
    .form-header{text-align:center;margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid #ddd}
    .form-header h2{color:#0033A0;font-size:22px}
    .form-section{margin-bottom:30px;padding:15px;border:1px solid #ddd;border-radius:5px}
    .form-section h3{background:#f0f0f0;padding:8px 15px;margin:-15px -15px 15px -15px;border-bottom:1px solid #ddd;color:#0033A0;font-size:18px}
    .form-row{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:15px}
    .form-group{flex:1;min-width:200px}
    label{display:block;margin-bottom:6px;font-weight:bold;font-size:14px}
    .required::after{content:" *";color:#d00}
    input,select,textarea{width:100%;padding:8px 10px;border:1px solid #ddd;border-radius:4px;font-size:14px}
    input:focus,select:focus,textarea:focus{border-color:#0033A0;outline:none}
    .table-section{overflow-x:auto}
    table{width:100%;border-collapse:collapse;margin-bottom:12px;font-size:12px}
    th,td{border:1px solid #ddd;padding:6px 8px;text-align:center;vertical-align:middle}
    th{background:#f0f0f0;font-weight:bold}
    input[type="checkbox"]{width:auto}
    .btn{padding:10px 18px;background:#0033A0;color:#fff;border:none;border-radius:4px;cursor:pointer;margin:0 6px;font-size:14px;font-weight:bold}
    .btn:hover{background:#002266}
    .btn-alt{background:#666}
    .btn-alt:hover{background:#555}
    .btn-danger{background:#dc3545}
    .btn-danger:hover{background:#b52a35}
    #message{padding:12px 15px;margin:15px 0;border-radius:5px;text-align:center;font-weight:bold;transition:all .3s ease}
    #message.hidden{display:none}
    #message.success{background:#d4edda;color:#155724;border:1px solid #c3e6cb}
    #message.error{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}
    .notes{padding:10px;background:#f9f9f9;border:1px solid #ddd;border-radius:5px;color:#333}
    .photo-container{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
    .photo-placeholder{width:140px;height:140px;border:1px dashed #ccc;display:flex;align-items:center;justify-content:center;background:#f9f9f9;cursor:pointer}
    .photo-placeholder:hover{background:#f0f0f0}
    @media(max-width:768px){
      .form-row{flex-direction:column}
      table{font-size:11px}
      th,td{padding:4px 6px}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <h1>KOMATSU</h1>
        <p>Equipos Tecnología Repuestos</p>
      </div>
    </header>

    <div class="form-container">
      <div class="form-header">
        <h2>PM CLINIC 22 — Inspección y Pruebas</h2>
      </div>

      <form id="pmClinic22Form">
        <div class="form-section">
          <h3>Información General</h3>
          <div class="form-row">
            <div class="form-group">
              <label for="cliente" class="required">Cliente / Faena</label>
              <input id="cliente" required/>
            </div>
            <div class="form-group">
              <label for="ubicacion" class="required">Ubicación</label>
              <input id="ubicacion" required/>
            </div>
            <div class="form-group">
              <label for="fechaInspeccion" class="required">Fecha de Inspección</label>
              <input type="date" id="fechaInspeccion" required/>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="equipoModelo" class="required">Modelo Equipo</label>
              <input id="equipoModelo" placeholder="Ej: HD785-7" required/>
            </div>
            <div class="form-group">
              <label for="equipoSerie" class="required">Serie de Equipo</label>
              <input id="equipoSerie" required/>
            </div>
            <div class="form-group">
              <label for="medidorServicio">Medidor de Servicio</label>
              <input id="medidorServicio"/>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="ordenTrabajo">N° Orden de Trabajo</label>
              <input id="ordenTrabajo"/>
            </div>
            <div class="form-group">
              <label for="tecnico" class="required">Técnico</label>
              <input id="tecnico" required/>
            </div>
          </div>
        </div>

        <div class="form-section">
          <h3>Mediciones / Ajustes Generales</h3>
          <div class="table-section">
            <table id="tablaMediciones">
              <thead>
                <tr>
                  <th>Sistema</th>
                  <th>Ítem de medición</th>
                  <th>Condición</th>
                  <th>Unidad</th>
                  <th>Estándar (nuevo)</th>
                  <th>Límite de servicio</th>
                  <th>Resultado</th>
                  <th>Aceptado</th>
                  <th>Rechazado</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
          <button type="button" class="btn" id="addFilaMedicion">Agregar fila</button>
        </div>

        <div class="form-section">
          <h3>Dirección (Steering)</h3>
          <div class="table-section">
            <table id="tablaSteering">
              <thead>
                <tr>
                  <th>Ítem</th>
                  <th>Condición</th>
                  <th>Unidad</th>
                  <th>Estándar</th>
                  <th>Permitido</th>
                  <th>Resultado</th>
                  <th>S</th>
                  <th>U</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Tiempo de giro lock to lock</td>
                  <td>Motor bajo</td>
                  <td>seg</td>
                  <td>—</td>
                  <td>Máx. 6.8</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                  <td><input type="checkbox"/></td>
                </tr>
                <tr>
                  <td>Tiempo de giro lock to lock</td>
                  <td>Motor lleno</td>
                  <td>seg</td>
                  <td>—</td>
                  <td>Máx. 5.0</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                  <td><input type="checkbox"/></td>
                </tr>
                <tr>
                  <td>Presión de alivio de giro</td>
                  <td>Motor lleno</td>
                  <td>kg/cm²</td>
                  <td>316 – 325</td>
                  <td>312 – 330</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                  <td><input type="checkbox"/></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="form-section">
          <h3>Presiones Convertidor / Carga</h3>
          <div class="table-section">
            <table id="tablaPresiones">
              <thead>
                <tr>
                  <th>Ítem</th>
                  <th>Condición</th>
                  <th>Unidad</th>
                  <th>Estándar</th>
                  <th>Permitido</th>
                  <th>Resultado</th>
                  <th>S</th>
                  <th>U</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Presión carga (cut-in)</td>
                  <td>Motor pleno acelerador</td>
                  <td>kg/cm²</td>
                  <td>120 – 130</td>
                  <td>120 – 130</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                  <td><input type="checkbox"/></td>
                </tr>
                <tr>
                  <td>Presión carga (cut-out)</td>
                  <td>—</td>
                  <td>kg/cm²</td>
                  <td>210 – 220</td>
                  <td>210 – 220</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                  <td><input type="checkbox"/></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="form-section">
          <h3>Frenos — Verificaciones</h3>
          <div class="table-section">
            <table id="tablaFrenos">
              <thead>
                <tr>
                  <th>Tipo</th>
                  <th>Condición</th>
                  <th>Unidad</th>
                  <th>Estándar</th>
                  <th>Permitido</th>
                  <th>Resultado</th>
                  <th>S</th>
                  <th>U</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Freno de estacionamiento</td>
                  <td>F2, motor lleno — sin movimiento</td>
                  <td>—</td>
                  <td>Sin movimiento</td>
                  <td>Sin movimiento</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                  <td><input type="checkbox"/></td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="table-section" style="margin-top:10px">
            <table id="tablaRPMFrenos">
              <thead>
                <tr>
                  <th>Condición</th>
                  <th>rpm (estándar)</th>
                  <th>rpm (permitido)</th>
                  <th>Medición</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Service brake (F2, incrementando rpm)</td>
                  <td>1,760</td>
                  <td>1,570</td>
                  <td><input/></td>
                </tr>
                <tr>
                  <td>Retarder brake</td>
                  <td>1,340</td>
                  <td>1,200</td>
                  <td><input/></td>
                </tr>
                <tr>
                  <td>Parking brake</td>
                  <td>1,790</td>
                  <td>1,610</td>
                  <td><input/></td>
                </tr>
                <tr>
                  <td>Emergency brake</td>
                  <td>1,790</td>
                  <td>1,610</td>
                  <td><input/></td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="table-section" style="margin-top:10px">
            <table id="tablaDiscos">
              <thead>
                <tr>
                  <th>Ubicación</th>
                  <th>Gauge / Espesor</th>
                  <th>Unidad</th>
                  <th>Estándar</th>
                  <th>Permitido</th>
                  <th>Resultado</th>
                  <th>Dentro de gauge</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Delantero Izquierdo</td>
                  <td>Disc wear gauge</td>
                  <td>mm</td>
                  <td>39.3 – 42.1</td>
                  <td>Máx. 45.3</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                </tr>
                <tr>
                  <td>Delantero Derecho</td>
                  <td>Disc wear gauge</td>
                  <td>mm</td>
                  <td>39.3 – 42.1</td>
                  <td>Máx. 45.3</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                </tr>
                <tr>
                  <td>Trasero Izquierdo</td>
                  <td>Disc wear gauge</td>
                  <td>mm</td>
                  <td>39.3 – 42.1</td>
                  <td>Máx. 45.3</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                </tr>
                <tr>
                  <td>Trasero Derecho</td>
                  <td>Disc wear gauge</td>
                  <td>mm</td>
                  <td>39.3 – 42.1</td>
                  <td>Máx. 45.3</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="form-section">
          <h3>Suspensión</h3>
          <div class="table-section">
            <table id="tablaSuspension">
              <thead>
                <tr>
                  <th>Posición</th>
                  <th>Ítem</th>
                  <th>Unidad</th>
                  <th>Estándar</th>
                  <th>Permitido</th>
                  <th>Resultado</th>
                  <th>OK</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Delantera Izquierda</td>
                  <td>Longitud cilindro</td>
                  <td>mm</td>
                  <td>237 – 257</td>
                  <td>227 – 267</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                </tr>
                <tr>
                  <td>Delantera Derecha</td>
                  <td>Longitud cilindro</td>
                  <td>mm</td>
                  <td>237 – 257</td>
                  <td>227 – 267</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                </tr>
                <tr>
                  <td>Trasera Izquierda</td>
                  <td>Longitud cilindro</td>
                  <td>mm</td>
                  <td>189 – 209</td>
                  <td>179 – 219</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                </tr>
                <tr>
                  <td>Trasera Derecha</td>
                  <td>Longitud cilindro</td>
                  <td>mm</td>
                  <td>189 – 209</td>
                  <td>179 – 219</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                </tr>
                <tr>
                  <td>Fugas aceite/gas</td>
                  <td>Visual</td>
                  <td>—</td>
                  <td>No fugas</td>
                  <td>No fugas</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                </tr>
                <tr>
                  <td>Tope suspensión trasera</td>
                  <td>Contacto (izq./der.)</td>
                  <td>—</td>
                  <td>Sin contacto</td>
                  <td>Sin contacto</td>
                  <td><input/></td>
                  <td><input type="checkbox"/></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="form-section">
          <h3>Registro de Códigos de Falla</h3>
          <div class="table-section">
            <table id="tablaFailureCodes">
              <thead>
                <tr>
                  <th>Hora</th>
                  <th>Código / Contenido</th>
                </tr>
              </thead>
              <tbody>
                <tr><td><input/></td><td><input/></td></tr>
                <tr><td><input/></td><td><input/></td></tr>
                <tr><td><input/></td><td><input/></td></tr>
                <tr><td><input/></td><td><input/></td></tr>
              </tbody>
            </table>
          </div>
          <div class="notes">
            <strong>MEMO:</strong> Anote cualquier dato o fenómeno observado durante la inspección.
            <textarea id="memo" rows="4" style="margin-top:8px"></textarea>
          </div>
        </div>

        <div class="form-section">
          <h3>Set Fotográfico</h3>
          <div class="photo-container">
            <div class="photo-placeholder" id="addPhotoBtn">+ Agregar Foto</div>
            <input type="file" id="photoUpload" accept="image/*" multiple style="display:none"/>
          </div>
        </div>

        <div id="message" class="hidden"></div>

        <div class="form-actions" style="text-align:center;margin-top:20px">
          <button type="button" class="btn btn-alt" onclick="location.href='index.html'">Volver al Menú</button>
          <button type="submit" class="btn">Enviar Formulario</button>
          <button type="button" class="btn btn-danger" id="limpiarBtn">Limpiar Formulario</button>
        </div>
      </form>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="js/pm-clinic22.js"></script>
</body>
</html>
